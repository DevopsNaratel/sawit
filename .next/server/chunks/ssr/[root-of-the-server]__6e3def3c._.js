module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},90669,a=>{"use strict";let b=(0,a.i(70106).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["Activity",()=>b],90669)},43108,a=>{"use strict";let b=(0,a.i(70106).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},72692,a=>{"use strict";let b=(0,a.i(70106).default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);a.s(["Menu",()=>b],72692)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},85066,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(90669),e=a.i(43108),f=a.i(72692),g=a.i(33508);let h=(0,a.i(70106).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var i=a.i(75003);function j({activePage:a,onPageChange:j}){let[k,l]=(0,c.useState)(!1),m=[{id:"jenkins",label:"Jenkins Approval",icon:d.Activity},{id:"k8s-secret",label:"K8s Secrets",icon:e.Lock}],n=async()=>{await (0,i.signOut)({callbackUrl:"/auth/signin"})};return(0,b.jsx)("nav",{className:"bg-neutral-900 border-b border-neutral-800 sticky top-0 z-50 backdrop-blur-sm bg-neutral-900/95",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg",children:(0,b.jsx)(d.Activity,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xl font-bold text-white hidden sm:block",children:"DevOps Gateway"})]}),(0,b.jsx)("div",{className:"hidden md:flex items-center gap-2",children:m.map(c=>{let d=c.icon,e=a===c.id;return(0,b.jsxs)("button",{onClick:()=>j(c.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all ${e?"jenkins"===c.id?"bg-indigo-600/20 text-indigo-400 border border-indigo-500/30":"bg-purple-600/20 text-purple-400 border border-purple-500/30":"text-neutral-400 hover:text-white hover:bg-neutral-800"}`,children:[(0,b.jsx)(d,{size:18}),(0,b.jsx)("span",{children:c.label})]},c.id)})}),(0,b.jsx)("div",{className:"hidden md:flex items-center gap-3",children:(0,b.jsxs)("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-neutral-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all",children:[(0,b.jsx)(h,{size:18}),(0,b.jsx)("span",{children:"Logout"})]})}),(0,b.jsx)("button",{onClick:()=>l(!k),className:"md:hidden p-2 text-neutral-400 hover:text-white rounded-lg hover:bg-neutral-800 transition-colors",children:k?(0,b.jsx)(g.X,{size:24}):(0,b.jsx)(f.Menu,{size:24})})]}),k&&(0,b.jsxs)("div",{className:"md:hidden py-4 space-y-2 border-t border-neutral-800",children:[m.map(c=>{let d=c.icon,e=a===c.id;return(0,b.jsxs)("button",{onClick:()=>{j(c.id),l(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-semibold transition-all ${e?"jenkins"===c.id?"bg-indigo-600/20 text-indigo-400 border border-indigo-500/30":"bg-purple-600/20 text-purple-400 border border-purple-500/30":"text-neutral-400 hover:text-white hover:bg-neutral-800"}`,children:[(0,b.jsx)(d,{size:20}),(0,b.jsx)("span",{children:c.label})]},c.id)}),(0,b.jsxs)("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-lg transition-all",children:[(0,b.jsx)(h,{size:20}),(0,b.jsx)("span",{children:"Logout"})]})]})]})})}a.s(["default",()=>j],85066)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},85690,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(85066),e=a.i(72131),f=a.i(16201),g=a.i(70106);let h=(0,g.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var i=a.i(96221);let j=(0,g.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var k=a.i(90669);let l=(0,g.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),m=(0,g.default)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),n=(0,g.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),o=(0,g.default)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);function p(){let[a,c]=(0,e.useState)([]),[d,g]=(0,e.useState)(!0),[p,q]=(0,e.useState)(null),[r,s]=(0,e.useState)({text:"",type:""}),[t,u]=(0,e.useState)(!1),v=async()=>{try{let a=await fetch("/api/jenkins/pending",{cache:"no-store",headers:{"Content-Type":"application/json"}});if(!a.ok){console.error(`API Error: ${a.status} ${a.statusText}`),u(!0),c([]);return}let b=a.headers.get("content-type");if(!b||!b.includes("application/json")){console.error("Response bukan JSON:",await a.text()),u(!0),c([]);return}let d=await a.json(),e=Array.isArray(d)?d:d.data||[];c(e),u(!1)}catch(a){console.error("Error fetching builds:",a),u(!0),c([])}finally{g(!1)}};(0,e.useEffect)(()=>{v();let a=setInterval(v,1e4);return()=>clearInterval(a)},[]);let w=async(a,b,c)=>{q(`${a}-${c}`),s({text:"",type:""});try{let d=await fetch("/api/jenkins/approve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buildId:a,jobName:b,action:c})});if(!d.ok)throw Error(`HTTP ${d.status}`);let e=await d.json();e.success?(s({text:e.message,type:"success"}),setTimeout(v,1500)):s({text:e.message||"Terjadi kesalahan",type:"error"})}catch(a){s({text:`Gagal: ${a.message}`,type:"error"})}finally{q(null)}},x=a=>{if(!a)return null;let b=a.match(/(\d+)\.(\d+)\.(\d+)/);return b?{full:b[0],major:parseInt(b[1]),minor:parseInt(b[2]),patch:parseInt(b[3])}:null},y=a.reduce((a,b)=>{let c=b.jobName;return a[c]||(a[c]=[]),a[c].push(b),a},{});Object.keys(y).forEach(a=>{y[a].sort((a,b)=>{let c=x(a.name),d=x(b.name);return c||d?c?d?c.major!==d.major?d.major-c.major:c.minor!==d.minor?d.minor-c.minor:d.patch-c.patch:-1:1:b.timestamp-a.timestamp})});let z=Object.keys(y).sort();return(0,b.jsxs)("div",{className:"min-h-screen bg-neutral-950 text-white p-6",children:[(0,b.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-indigo-600/10 rounded-full blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-[-10%] left-[-5%] w-96 h-96 bg-blue-600/10 rounded-full blur-3xl"})]}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto relative z-10",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-indigo-600/20 rounded-lg border border-indigo-500/30",children:(0,b.jsx)(k.Activity,{size:24,className:"text-indigo-400"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Jenkins Approval Gateway"})]}),(0,b.jsx)("p",{className:"text-neutral-400 ml-12",children:"Monitor dan kontrol pipeline deployment"})]}),r.text&&(0,b.jsxs)("div",{className:`mb-6 p-4 rounded-lg border flex items-center gap-3 animate-in fade-in slide-in-from-top-2 ${"success"===r.type?"bg-green-500/10 border-green-500/20 text-green-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:["success"===r.type?(0,b.jsx)(f.CheckCircle,{size:20}):(0,b.jsx)(l,{size:20}),(0,b.jsx)("span",{children:r.text})]}),t&&!d&&(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-8 text-center mb-6",children:[(0,b.jsx)(m,{size:48,className:"mx-auto mb-4 text-red-400"}),(0,b.jsx)("h3",{className:"text-xl font-semibold mb-2 text-red-400",children:"API Endpoint Error"}),(0,b.jsxs)("p",{className:"text-neutral-300 mb-4",children:["Tidak dapat terhubung ke ",(0,b.jsx)("code",{className:"bg-neutral-900 px-2 py-1 rounded",children:"/api/jenkins/pending"})]}),(0,b.jsx)("button",{onClick:v,className:"mt-4 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors",children:"Coba Lagi"})]}),d?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-neutral-400",children:[(0,b.jsx)(i.Loader2,{size:40,className:"animate-spin mb-4"}),(0,b.jsx)("p",{children:"Memuat data pipeline..."})]}):t||0!==a.length?!t&&(0,b.jsx)("div",{className:"space-y-6",children:z.map(a=>(0,b.jsxs)("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-6 hover:border-neutral-700 transition-all",children:[(0,b.jsx)("div",{className:"flex items-center justify-between gap-3 mb-5 pb-4 border-b border-neutral-800",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-indigo-600/20 rounded-lg border border-indigo-500/30",children:(0,b.jsx)(n,{size:20,className:"text-indigo-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-white",children:a}),(0,b.jsxs)("p",{className:"text-sm text-neutral-500",children:[y[a].length," version menunggu approval"]})]})]})}),(0,b.jsx)("div",{className:"space-y-4",children:y[a].map(a=>{let c=x(a.name);return(0,b.jsx)("div",{className:"bg-neutral-800/50 border border-neutral-700 rounded-lg p-4 hover:border-indigo-500/30 transition-all",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-[250px]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(o,{size:18,className:"text-indigo-400"}),(0,b.jsx)("span",{className:"text-base font-semibold text-white",children:c?`Version ${c.full}`:`Build #${a.id}`}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 rounded text-xs font-semibold border border-yellow-500/30",children:"PENDING"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-400 ml-7",children:[(0,b.jsx)(j,{size:14}),(0,b.jsx)("span",{children:new Date(a.timestamp).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>w(a.id,a.jobName,"approve"),disabled:null!==p,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-semibold rounded-lg shadow-lg shadow-green-500/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:p===`${a.id}-approve`?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{size:18,className:"animate-spin"}),(0,b.jsx)("span",{children:"Processing..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.CheckCircle,{size:18}),(0,b.jsx)("span",{children:"Deploy"})]})}),(0,b.jsx)("button",{onClick:()=>w(a.id,a.jobName,"abort"),disabled:null!==p,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-500 hover:to-rose-500 text-white font-semibold rounded-lg shadow-lg shadow-red-500/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:p===`${a.id}-abort`?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{size:18,className:"animate-spin"}),(0,b.jsx)("span",{children:"Processing..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h,{size:18}),(0,b.jsx)("span",{children:"Abort"})]})})]})]})},`${a.jobName}-${a.id}`)})})]},a))}):(0,b.jsxs)("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-12 text-center",children:[(0,b.jsx)(f.CheckCircle,{size:48,className:"mx-auto mb-4 text-green-400"}),(0,b.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Tidak Ada Pipeline Menunggu"}),(0,b.jsx)("p",{className:"text-neutral-400",children:"Semua deployment sudah diproses"})]}),(0,b.jsx)("div",{className:"mt-8 text-center text-xs text-neutral-600",children:(0,b.jsx)("p",{children:"Auto-refresh setiap 10 detik â€¢ Production Gateway System"})})]})]})}function q(){let a=(0,c.useRouter)();return(0,b.jsxs)("div",{className:"min-h-screen bg-neutral-950",children:[(0,b.jsx)(d.default,{activePage:"jenkins",onPageChange:b=>{"jenkins"===b?a.push("/"):"k8s-secret"===b&&a.push("/secrets")}}),(0,b.jsx)("main",{children:(0,b.jsx)(p,{})})]})}a.s(["default",()=>q],85690)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6e3def3c._.js.map