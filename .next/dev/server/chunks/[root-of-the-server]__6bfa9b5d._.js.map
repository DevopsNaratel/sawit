{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Code/Git/Naratel-Devops-Dashboard/src/app/api/k8s/namespaces/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport k8s from '@kubernetes/client-node';\n\nexport async function GET() {\n  try {\n    // Initialize Kubernetes client\n    const kc = new k8s.KubeConfig();\n    kc.loadFromDefault();\n    const k8sApi = kc.makeApiClient(k8s.CoreV1Api);\n\n    // Fetch all namespaces\n    const res = await k8sApi.listNamespace();\n    \n    // Extract namespace names from the response\n    const namespaces = res.body.items.map(ns => ns.metadata.name);\n\n    // Sort alphabetically for better UX\n    namespaces.sort();\n\n    return NextResponse.json({\n      success: true,\n      namespaces: namespaces,\n      count: namespaces.length\n    });\n  } catch (error) {\n    console.error('Error fetching namespaces:', error);\n    \n    return NextResponse.json({\n      success: false,\n      message: `Failed to fetch namespaces: ${error.message}`,\n      error: error.toString()\n    }, { status: 500 });\n  }\n}"],"names":[],"mappings":";;;;AAAA;;;;;;;;AAGO,eAAe;IACpB,IAAI;QACF,+BAA+B;QAC/B,MAAM,KAAK,IAAI,IAAI,UAAU;QAC7B,GAAG,eAAe;QAClB,MAAM,SAAS,GAAG,aAAa,CAAC,IAAI,SAAS;QAE7C,uBAAuB;QACvB,MAAM,MAAM,MAAM,OAAO,aAAa;QAEtC,4CAA4C;QAC5C,MAAM,aAAa,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA,KAAM,GAAG,QAAQ,CAAC,IAAI;QAE5D,oCAAoC;QACpC,WAAW,IAAI;QAEf,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,YAAY;YACZ,OAAO,WAAW,MAAM;QAC1B;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAE5C,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS,CAAC,4BAA4B,EAAE,MAAM,OAAO,EAAE;YACvD,OAAO,MAAM,QAAQ;QACvB,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF"}}]
}